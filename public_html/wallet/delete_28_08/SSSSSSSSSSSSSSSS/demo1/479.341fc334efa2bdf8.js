"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[479],{479:(Gt,_,l)=>{l.r(_),l.d(_,{AuthModule:()=>Rt});var m=l(9808),r=l(3075),v=l(520),c=l(4521),t=l(5e3);const w=["root",""];let b=(()=>{class o{constructor(){this.today=new Date}ngOnInit(){document.body.classList.add("bg-white")}ngOnDestroy(){document.body.classList.remove("bg-white")}}return o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["body","root",""]],attrs:w,decls:8,vars:0,consts:[[1,"d-flex","flex-column","flex-column-fluid","bgi-position-y-bottom","position-x-center","bgi-no-repeat","bgi-size-contain","bgi-attachment-fixed",2,"background-image","url('/assets/assets/images/bg-login.png')"],[1,"d-flex","flex-center","flex-column","flex-column-fluid"],["routerLink","/",1,""],["alt","Logo","src","./assets/logo.png",1,"logoimg"],[1,"w-lg-500px","rounded","mx-auto","login"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t._UZ(1,"br")(2,"br"),t.TgZ(3,"div",1)(4,"a",2),t._UZ(5,"img",3),t.qZA(),t.TgZ(6,"div",4),t._UZ(7,"router-outlet"),t.qZA()()())},directives:[c.yS,c.lC],styles:['[_nghost-%COMP%]{height:100%}*[_ngcontent-%COMP%]:where(:not(html, iframe[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video)[_ngcontent-%COMP%]:not(svg   *[_ngcontent-%COMP%], symbol[_ngcontent-%COMP%]   *))[_ngcontent-%COMP%]{all:unset;display:revert}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{cursor:revert}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], menu[_ngcontent-%COMP%]{list-style:none}img[_ngcontent-%COMP%]{max-width:100%}table[_ngcontent-%COMP%]{border-collapse:collapse}textarea[_ngcontent-%COMP%]{white-space:revert}meter[_ngcontent-%COMP%]{-webkit-appearance:revert;appearance:revert}[_ngcontent-%COMP%]::placeholder{color:unset}[_ngcontent-%COMP%]:where([hidden]){display:none}[_ngcontent-%COMP%]:where([contenteditable]:not([contenteditable="false"])){-moz-user-modify:read-write;-webkit-user-modify:read-write;overflow-wrap:break-word;-webkit-line-break:after-white-space}[_ngcontent-%COMP%]:where([draggable="true"]){-webkit-user-drag:element}@font-face{font-family:Nexa;src:url(/assets/assets/fonts/NexaBlack.woff2) format("woff2"),url(/assets/assets/fonts/NexaBlack.woff) format("woff");font-weight:900;font-style:normal;font-display:swap}@font-face{font-family:Nexa;src:url(/assets/assets/fonts/NexaLight.woff2) format("woff2"),url(/assets/assets/fonts/NexaLight.woff) format("woff");font-weight:300;font-style:normal;font-display:swap}@font-face{font-family:Myriad Pro;src:url(/assets/assets/fonts/MyriadPro-Regular.woff2) format("woff2"),url(/assets/assets/fonts/MyriadPro-Regular.woff) format("woff");font-weight:400;font-style:normal;font-display:swap}body[_ngcontent-%COMP%]{color:#fff;font-family:Myriad Pro}h1[_ngcontent-%COMP%]{font-family:Nexa;font-size:clamp(2rem,15vw,3.6rem);font-weight:900}h1[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;font-family:Nexa;font-size:2.8rem;font-weight:300}.text-center[_ngcontent-%COMP%]{text-align:center}.welcome[_ngcontent-%COMP%]{height:100vh;width:100%;background:url(/assets/assets/images/bg-start.png) center no-repeat;background-size:cover!important;background-attachment:fixed!important;padding:60px 10%}.welcome[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:587px;width:100%;margin-top:10rem}.row[_ngcontent-%COMP%]{display:flex}.col[_ngcontent-%COMP%]{width:50%;padding:10px}.btn[_ngcontent-%COMP%]{display:inline-block;font-family:Nexa;font-weight:900;padding:10px 37px;text-transform:uppercase;transform:scale(1);transition:.3s all}.btn[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.btn[_ngcontent-%COMP%]:after{content:"";display:inline-block;width:20px;height:15px;margin-bottom:-2px;margin-left:5px;background:url(/assets/assets/images/arrow.svg) center no-repeat;background-size:contain}.btn.btn-default[_ngcontent-%COMP%]{background:url(/assets/assets/images/bg-btn.png) center no-repeat;background-size:contain}.login[_ngcontent-%COMP%]{height:100vh;width:100%}.login[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:250px;margin:60px auto 0;display:block}.login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:block;border-radius:30px;border:1px solid #fff;width:50%;margin:0 auto 10px;padding:10px 20px;text-transform:uppercase}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-bottom:20px}@media only screen and (max-width: 800px){.welcome[_ngcontent-%COMP%]{height:100%}.welcome[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:50px}.login[_ngcontent-%COMP%]{height:100%}.login[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:50px}.row[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.col[_ngcontent-%COMP%]{max-width:100%;padding:10px}.login[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;padding:10px 5px}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-bottom:50px}.login[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{width:100%;background:unset!important}.btn[_ngcontent-%COMP%]{margin-top:10px}}.logoimg[_ngcontent-%COMP%]{max-width:250px;margin:60px auto;display:block}']}),o})();var p=l(590),C=l(2340),d=l(2542),T=l(1271),P=l(4218);function k(o,i){1&o&&(t.ynx(0),t.TgZ(1,"div",11)(2,"div",12),t._uU(3," The login details are incorrect "),t.qZA()(),t.BQk())}const f=function(o,i){return{"is-invalid":o,"is-valid":i}},O=function(o){return{validation:"required",message:"Email is required",control:o}},y=function(o){return{validation:"email",message:"Email is invalid",control:o}},Z=function(o){return{validation:"minLength",message:"Email should have at least 3 symbols",control:o}},F=function(o){return{validation:"maxLength",message:"Email should have maximum 360 symbols",control:o}};function M(o,i){if(1&o&&(t.TgZ(0,"div",13),t._UZ(1,"input",14),t.GkF(2,15)(3,15)(4,15)(5,15),t.qZA()),2&o){const n=t.oxw(),e=t.MAs(16);t.xp6(1),t.Q6J("ngClass",t.WLB(9,f,n.loginForm.controls.email.invalid,n.loginForm.controls.email.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(12,O,n.loginForm.controls.email)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(14,y,n.loginForm.controls.email)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(16,Z,n.loginForm.controls.email)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(18,F,n.loginForm.controls.email))}}const q=function(o){return{validation:"required",message:"Password is required",control:o}},I=function(o){return{validation:"minlength",message:"Password should have at least 3 symbols",control:o}},L=function(o){return{validation:"maxLength",message:"Password should have maximum 100 symbols",control:o}};function A(o,i){if(1&o&&(t.TgZ(0,"div",16)(1,"div",1)(2,"a",17),t._uU(3," Forgot Password ? "),t.qZA()(),t._UZ(4,"input",18),t.GkF(5,15)(6,15)(7,15),t.qZA()),2&o){const n=t.oxw(),e=t.MAs(16);t.xp6(2),t.Udp("margin-left","5px"),t.xp6(2),t.Q6J("ngClass",t.WLB(9,f,n.loginForm.controls.password.invalid,n.loginForm.controls.password.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(12,q,n.loginForm.controls.password)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(14,I,n.loginForm.controls.password)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(16,L,n.loginForm.controls.password))}}const J=function(o){return{validation:"required",message:"Two factor auth code is required",control:o}},N=function(o){return{validation:"minlength",message:"Two factor auth code should have at least 5 symbols",control:o}},U=function(o){return{validation:"maxLength",message:"Two factor auth code should have maximum 5 symbols",control:o}};function E(o,i){if(1&o&&(t.TgZ(0,"div",13),t._UZ(1,"input",19),t.GkF(2,15)(3,15)(4,15),t.qZA()),2&o){const n=t.oxw(),e=t.MAs(16);t.xp6(1),t.Q6J("ngClass",t.WLB(7,f,n.loginForm.controls.google_auth.invalid,n.loginForm.controls.google_auth.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(10,J,n.loginForm.controls.google_auth)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(12,N,n.loginForm.controls.google_auth)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(14,U,n.loginForm.controls.google_auth))}}function Y(o,i){1&o&&(t.ynx(0),t.TgZ(1,"span",21),t._uU(2," Please wait... "),t._UZ(3,"span",22),t.qZA(),t.BQk()),2&o&&(t.xp6(1),t.Udp("display","block"))}function B(o,i){1&o&&(t.ynx(0),t.TgZ(1,"span",23),t._uU(2,"Verify Auth Code"),t.qZA(),t.BQk())}function V(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"div",3)(1,"button",20),t.NdJ("click",function(){return t.CHM(n),t.oxw().signInWithGoogleAuth()}),t.YNc(2,Y,4,2,"ng-container",6),t.ALo(3,"async"),t.YNc(4,B,3,0,"ng-container",6),t.ALo(5,"async"),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.loginForm.invalid),t.xp6(1),t.Q6J("ngIf",t.lcZ(3,3,n.isLoading$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(5,5,n.isLoading$))}}function K(o,i){1&o&&(t.ynx(0),t.TgZ(1,"span",21),t._uU(2," Please wait... "),t._UZ(3,"span",22),t.qZA(),t.BQk()),2&o&&(t.xp6(1),t.Udp("display","block"))}function R(o,i){1&o&&(t.ynx(0),t.TgZ(1,"span",23),t._uU(2,"Continue"),t.qZA(),t.BQk())}function G(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"div",3)(1,"button",24),t.NdJ("click",function(){return t.CHM(n),t.oxw().checkGAUTHorLogin()}),t.YNc(2,K,4,2,"ng-container",6),t.ALo(3,"async"),t.YNc(4,R,3,0,"ng-container",6),t.ALo(5,"async"),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("disabled",n.loginForm.invalid),t.xp6(1),t.Q6J("ngIf",t.lcZ(3,3,n.isLoading$)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(5,5,n.isLoading$))}}function z(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"div",25)(2,"span",26),t._uU(3),t.qZA()(),t.BQk()),2&o){const n=t.oxw().message;t.xp6(3),t.hij(" ",n," ")}}function W(o,i){if(1&o&&t.YNc(0,z,4,1,"ng-container",6),2&o){const n=i.control;t.Q6J("ngIf",n.hasError(i.validation)&&(n.dirty||n.touched))}}let $=(()=>{class o{constructor(n,e,s,a,h){this.fb=n,this.authService=e,this.route=s,this.router=a,this._snackBar=h,this.defaultAuth={email:"",password:""},this.gauth=!1,this.appName=`${C.N.appName}`,this.unsubscribe=[],this.isLoading$=this.authService.isLoading$,this.authService.currentUserValue&&this.router.navigate(["/investment"])}ngOnInit(){this.initForm(),this.returnUrl=this.route.snapshot.queryParams["returnUrl".toString()]||"/"}get f(){return this.loginForm.controls}initForm(){this.loginForm=this.fb.group({email:[this.defaultAuth.email,r.kI.compose([r.kI.required,r.kI.email,r.kI.minLength(3),r.kI.maxLength(320)])],google_auth:[],password:[this.defaultAuth.password,r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(100)])]})}checkGAUTHorLogin(){this.authService.checkgoogleauth(this.f.email.value,this.f.password.value).subscribe(e=>(console.log("data",e),e.Error?(this.msg=e.message,void this._snackBar.open(this.msg,"Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"center"})):e.emailconfirm?(this.msg=e.message,this._snackBar.open(this.msg,"Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"center"}),this.otpverify=!0,void(this.hideloginbtn=!1)):void(e.gauth?this.gauth=!0:this.submit())))}signInWithGoogleAuth(){this.authService.googleauthverify(this.f.email.value,this.f.password.value,this.f.google_auth.value).subscribe(n=>{this.msg=n.message,this._snackBar.open(this.msg,"Close",{duration:2e3,verticalPosition:"top",horizontalPosition:"center"}),n.user.roll&&this.submit()})}submit(){this.hasError=!1;const n=this.authService.login(this.f.email.value,this.f.password.value,this.f.google_auth.value).pipe((0,p.P)()).subscribe(e=>{e?(console.log("user",e.gauth),localStorage.setItem("token",e.access_token),console.log("userroll",e.roll),window.localStorage.removeItem("roll"),window.localStorage.setItem("roll",e.roll),this.router.navigate(["/investment"])):this.hasError=!0});this.unsubscribe.push(n)}ngOnDestroy(){this.unsubscribe.forEach(n=>n.unsubscribe())}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(r.qu),t.Y36(d.e),t.Y36(c.gz),t.Y36(c.F0),t.Y36(T.ux))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:17,vars:10,consts:[["novalidate","novalidate","id","kt_login_signin_form",1,"form","w-100",3,"formGroup","ngSubmit"],[1,"d-flex","justify-content-center"],[1,"loginh2","text-white"],[1,"text-center"],[1,"text-center","text-white","fw-bold","fs-4"],["routerLink","/auth/registration/203091","id","kt_login_signup",1,"text-center","text-white"],[4,"ngIf"],["class","fv-row  ",4,"ngIf"],["class","fv-row 0",4,"ngIf"],["class","text-center",4,"ngIf"],["formError",""],[1,"mb-lg-15","alert","alert-danger"],[1,"text-center","alert-text","font-weight-bold"],[1,"fv-row"],["type","email","placeholder","email","name","email","formControlName","email","autocomplete","off",1,"sakshunsetbg","form-control","form-control-lg",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fv-row","0"],["routerLink","/auth/forgot-password","id","kt_login_forgot",1,"text-white","fs-6","fw-bolder"],["type","password","name","password","placeholder","password","autocomplete","off","formControlName","password",1,"sakshunsetbg","form-control","form-control-lg",3,"ngClass"],["type","text","name","google_auth","placeholder","2 factor auth code","autocomplete","off","formControlName","google_auth",1,"sakshunsetbg","form-control","form-control-lg","form-control-solid",3,"ngClass"],["type","button","id","kt_sign_in_submit",1,"btn","btn-primary",3,"disabled","click"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"indicator-label"],["type","button","id","kt_sign_in_submit",1,"sakshunsetbtn","btn","w-100","mb-5",3,"disabled","click"],[1,"fv-plugins-message-container"],["role","alert"]],template:function(n,e){1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return e.submit()}),t.TgZ(1,"div",1)(2,"h2",2),t._uU(3,"ENTRAR"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"a",5),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.YNc(9,k,4,0,"ng-container",6),t.YNc(10,M,6,20,"div",7),t.YNc(11,A,8,18,"div",8),t.YNc(12,E,5,16,"div",7),t.YNc(13,V,6,7,"div",9),t.YNc(14,G,6,7,"div",9),t.qZA(),t.YNc(15,W,1,1,"ng-template",null,10,t.W1O)),2&n&&(t.Q6J("formGroup",e.loginForm),t.xp6(7),t.hij(" New Here? ",t.lcZ(8,8,"AUTH.GENERAL.SIGNUP_BUTTON")," "),t.xp6(2),t.Q6J("ngIf",e.hasError),t.xp6(1),t.Q6J("ngIf",!e.gauth),t.xp6(1),t.Q6J("ngIf",!e.gauth),t.xp6(1),t.Q6J("ngIf",e.gauth),t.xp6(1),t.Q6J("ngIf",e.gauth),t.xp6(1),t.Q6J("ngIf",!e.gauth))},directives:[r._Y,r.JL,r.sg,c.yS,m.O5,r.Fj,r.JJ,r.u,m.mk,m.tP],pipes:[P.X$,m.Ov],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),o})();class H{static MatchPassword(i){var n,e,s;(null===(n=i.get("password"))||void 0===n?void 0:n.value)!==(null===(e=i.get("cPassword"))||void 0===e?void 0:e.value)&&(null===(s=i.get("cPassword"))||void 0===s||s.setErrors({ConfirmPassword:!0}))}}class X extends class j{setAuth(i){this.authToken=i.authToken,this.access_token=i.access_token,this.refreshToken=i.refreshToken,this.expiresIn=i.expiresIn,this.gauth=i.gauth}}{constructor(){super(...arguments),this.roles=[]}setUser(i){const n=i;this.id=n.id,this.otp=n.otp,this.username=n.username||"",this.password=n.password||"",this.fullname=n.fullname||"",this.email=n.email||"",this.pic=n.pic||"./assets/media/users/default.jpg",this.roles=n.roles||[],this.occupation=n.occupation||"",this.companyName=n.companyName||"",this.phone=n.phone||"",this.address=n.address,this.socialNetworks=n.socialNetworks,this.refer_id=n.refer_id}}function D(o,i){1&o&&(t.ynx(0),t.TgZ(1,"div",21)(2,"div",22),t._uU(3," The registration details are incorrect "),t.qZA()(),t.BQk())}function tt(o,i){1&o&&(t.ynx(0),t.TgZ(1,"div",23)(2,"div",24),t._uU(3," 'Passsword' and 'Confirm Password' didn't match. "),t.qZA()(),t.BQk())}const u=function(o,i){return{"is-invalid":o,"is-valid":i}},ot=function(o){return{validation:"required",message:"OTP is required",control:o}},nt=function(o){return{validation:"minlength",message:"OTP should have at least 5 symbols",control:o}},et=function(o){return{validation:"maxLength",message:"OTP should have maximum 5 symbols",control:o}};function rt(o,i){if(1&o&&(t.TgZ(0,"div",10),t._UZ(1,"input",25),t.GkF(2,6)(3,6)(4,6),t.qZA()),2&o){const n=t.oxw(),e=t.MAs(41);t.xp6(1),t.Q6J("ngClass",t.WLB(7,u,n.registrationForm.controls.otp.invalid,n.registrationForm.controls.otp.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(10,ot,n.registrationForm.controls.otp)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(12,nt,n.registrationForm.controls.otp)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(14,et,n.registrationForm.controls.otp))}}function it(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){return t.CHM(n),t.oxw().send_otp()}),t._uU(1,"Send OTP "),t.qZA()}}function st(o,i){1&o&&(t.ynx(0),t.TgZ(1,"span",28),t._uU(2,"Submit"),t.qZA(),t.BQk())}function at(o,i){1&o&&(t.ynx(0),t.TgZ(1,"span",29),t._uU(2," Please wait... "),t._UZ(3,"span",30),t.qZA(),t.BQk()),2&o&&(t.xp6(1),t.Udp("display","block"))}function lt(o,i){if(1&o&&(t.TgZ(0,"button",27),t.YNc(1,st,3,0,"ng-container",3),t.ALo(2,"async"),t.YNc(3,at,4,2,"ng-container",3),t.ALo(4,"async"),t.qZA()),2&o){const n=t.oxw();t.Q6J("disabled",n.registrationForm.invalid),t.xp6(1),t.Q6J("ngIf",!1===t.lcZ(2,3,n.isLoading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,n.isLoading$))}}function mt(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"div",23)(2,"div",24)(3,"span",31),t._uU(4),t.qZA()()(),t.BQk()),2&o){const n=t.oxw().message;t.xp6(4),t.hij(" ",n," ")}}function ct(o,i){if(1&o&&t.YNc(0,mt,5,1,"ng-container",3),2&o){const n=i.control;t.Q6J("ngIf",n.hasError(i.validation)&&(n.dirty||n.touched))}}const gt=function(o){return{validation:"required",message:"Refer Id is required",control:o}},ut=function(o){return{validation:"refer_id",message:"Refer Id is invalid",control:o}},pt=function(o){return{validation:"required",message:"Fullname is required",control:o}},dt=function(o){return{validation:"minlength",message:"Fullname should have at least 3 symbols",control:o}},ft=function(o){return{validation:"maxLength",message:"Fullname should have maximum 100 symbols",control:o}},ht=function(o){return{validation:"required",message:"Email is required",control:o}},_t=function(o){return{validation:"email",message:"Email is invalid",control:o}},xt=function(o){return{validation:"minlength",message:"Email should have at least 3 symbols",control:o}},vt=function(o){return{validation:"maxLength",message:"Email should have maximum 360 symbols",control:o}},wt=function(o){return{validation:"required",message:"Password is required",control:o}},bt=function(o){return{validation:"minlength",message:"Password should have at least 3 symbols",control:o}},Ct=function(o){return{validation:"maxLength",message:"Password should have maximum 100 symbols",control:o}},Tt=function(o){return{validation:"required",message:"Confirm Password is required",control:o}},Pt=function(o){return{validation:"minlength",message:"Confirm Password should have at least 3 symbols",control:o}},kt=function(o){return{validation:"maxLength",message:"Confirm Password should have maximum 100 symbols",control:o}};let Ot=(()=>{class o{constructor(n,e,s,a){this.fb=n,this.route=e,this.authService=s,this.router=a,this.unsubscribe=[],this.isLoading$=this.authService.isLoading$,this.authService.currentUserValue&&this.router.navigate(["/"])}ngOnInit(){this.initForm(),this.otp_button_field=!1,this.send_otp_btn=!0,this.submit_btn=!1;const n=this.route.snapshot.paramMap.get("id");this.registrationForm.controls.refer_id.setValue(n)}get f(){return this.registrationForm.controls}initForm(){this.registrationForm=this.fb.group({refer_id:["",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(100)])],fullname:["",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(100)])],email:["",r.kI.compose([r.kI.required,r.kI.email,r.kI.minLength(3),r.kI.maxLength(320)])],password:["",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(100)])],cPassword:["",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(100)])],otp:["",r.kI.compose([r.kI.required,r.kI.minLength(5),r.kI.maxLength(5)])],agree:[!1,r.kI.compose([r.kI.required])]},{validator:H.MatchPassword})}submit(){this.hasError=!1;const n={};Object.keys(this.f).forEach(a=>{n[a]=this.f[a].value});const e=new X;e.setUser(n);const s=this.authService.registration(e).pipe((0,p.P)()).subscribe(a=>{a?(console.log("user",a.gauth),localStorage.setItem("token",a.access_token),console.log("userroll",a.roll),window.localStorage.removeItem("roll"),window.localStorage.setItem("roll",a.roll),this.router.navigate(["/investment"])):this.hasError=!0});this.unsubscribe.push(s)}send_otp(){this.send_otp_btn=!1,this.submit_btn=!0,this.otp_button_field=!0,this.authService.send_otp(this.registrationForm.value.email,"register").subscribe(e=>{console.log(e)})}ngOnDestroy(){this.unsubscribe.forEach(n=>n.unsubscribe())}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(r.qu),t.Y36(c.gz),t.Y36(d.e),t.Y36(c.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-registration"]],decls:42,vars:88,consts:[["novalidate","novalidate","id","kt_login_signup_form",1,"form","fv-plugins-bootstrap5","fv-plugins-framework",3,"formGroup","ngSubmit"],[1,"d-flex","justify-content-center"],[1,"loginh2","text-white"],[4,"ngIf"],[1,"fv-row","mb-7"],["type","number","placeholder","Refer ID","name","refer_id","formControlName","refer_id","autocomplete","off",1,"sakshunsetbg","form-control","form-control-lg",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"row","fv-row","mb-7"],["type","text","name","fullname","formControlName","fullname","placeholder","Full name","autocomplete","off",1,"sakshunsetbg","form-control","form-control-lg",3,"ngClass"],["type","email","placeholder","Email","name","email","formControlName","email","autocomplete","off",1,"sakshunsetbg","form-control","form-control-lg","d",3,"ngClass"],[1,"mb-10","fv-row"],["type","password","placeholder","Password","name","password","formControlName","password","autocomplete","off",1,"sakshunsetbg","form-control","form-control-lg",3,"ngClass"],[1,"fv-row","mb-5"],["type","password","placeholder","Confirm password","name","cPassword","autocomplete","off","formControlName","cPassword",1,"sakshunsetbg","form-control","form-control-lg",3,"ngClass"],["class","mb-10 fv-row",4,"ngIf"],[1,"text-center"],["class","sakshunsetbtn btn  w-100 mb-5  ",3,"click",4,"ngIf"],["type","submit","id","kt_sign_up_submit","class","sakshunsetbtn btn  w-100 mb-5   ",3,"disabled",4,"ngIf"],[1,"text-white","fw-bold","fs-4"],["routerLink","/auth/login",1,"link-primary","fw-bolder","text-white"],["formError",""],[1,"mb-lg-15","alert","alert-danger"],[1,"alert-text","font-weight-bold"],[1,"fv-plugins-message-container"],[1,"fv-help-block"],["type","text","placeholder","otp","name","otp","formControlName","otp","autocomplete","off",1,"sakshunsetbg","form-control","form-control-lg",3,"ngClass"],[1,"sakshunsetbtn","btn","w-100","mb-5",3,"click"],["type","submit","id","kt_sign_up_submit",1,"sakshunsetbtn","btn","w-100","mb-5",3,"disabled"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],["role","alert"]],template:function(n,e){if(1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return e.submit()}),t.TgZ(1,"div",1)(2,"h2",2),t._uU(3,"Create an Account"),t.qZA()(),t.YNc(4,D,4,0,"ng-container",3),t.TgZ(5,"div",4),t._UZ(6,"input",5),t.GkF(7,6)(8,6),t.qZA(),t.TgZ(9,"div",7),t._UZ(10,"input",8),t.GkF(11,6)(12,6)(13,6),t.qZA(),t.TgZ(14,"div",4),t._UZ(15,"input",9),t.GkF(16,6)(17,6)(18,6)(19,6),t.qZA(),t.TgZ(20,"div",10),t._UZ(21,"input",11),t.GkF(22,6)(23,6)(24,6),t.qZA(),t.TgZ(25,"div",12),t._UZ(26,"input",13),t.GkF(27,6)(28,6)(29,6),t.YNc(30,tt,4,0,"ng-container",3),t.qZA(),t.YNc(31,rt,5,16,"div",14),t.TgZ(32,"div",15),t.YNc(33,it,2,0,"button",16),t.YNc(34,lt,5,7,"button",17),t.TgZ(35,"div",15)(36,"div",18),t._uU(37," Already have an account? "),t.TgZ(38,"a",19),t._uU(39,"Sign in?"),t.qZA()()()()(),t.YNc(40,ct,1,1,"ng-template",null,20,t.W1O)),2&n){const s=t.MAs(41);t.Q6J("formGroup",e.registrationForm),t.xp6(4),t.Q6J("ngIf",e.hasError),t.xp6(2),t.Q6J("ngClass",t.WLB(43,u,e.registrationForm.controls.refer_id.invalid,e.registrationForm.controls.refer_id.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(46,gt,e.registrationForm.controls.refer_id)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(48,ut,e.registrationForm.controls.refer_id)),t.xp6(2),t.Q6J("ngClass",t.WLB(50,u,e.registrationForm.controls.fullname.invalid,e.registrationForm.controls.fullname.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(53,pt,e.registrationForm.controls.fullname)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(55,dt,e.registrationForm.controls.fullname)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(57,ft,e.registrationForm.controls.fullname)),t.xp6(2),t.Q6J("ngClass",t.WLB(59,u,e.registrationForm.controls.email.invalid,e.registrationForm.controls.email.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(62,ht,e.registrationForm.controls.email)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(64,_t,e.registrationForm.controls.email)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(66,xt,e.registrationForm.controls.email)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(68,vt,e.registrationForm.controls.email)),t.xp6(2),t.Q6J("ngClass",t.WLB(70,u,e.registrationForm.controls.password.invalid,e.registrationForm.controls.password.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(73,wt,e.registrationForm.controls.password)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(75,bt,e.registrationForm.controls.password)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(77,Ct,e.registrationForm.controls.password)),t.xp6(2),t.Q6J("ngClass",t.WLB(79,u,e.registrationForm.controls.cPassword.invalid,e.registrationForm.controls.cPassword.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(82,Tt,e.registrationForm.controls.cPassword)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(84,Pt,e.registrationForm.controls.cPassword)),t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(86,kt,e.registrationForm.controls.cPassword)),t.xp6(1),t.Q6J("ngIf",e.registrationForm.controls.cPassword.errors&&e.registrationForm.controls.cPassword.errors.ConfirmPassword),t.xp6(1),t.Q6J("ngIf",e.otp_button_field),t.xp6(2),t.Q6J("ngIf",e.send_otp_btn),t.xp6(1),t.Q6J("ngIf",e.submit_btn),t.xp6(4),t.Udp("margin-left","5px")}},directives:[r._Y,r.JL,r.sg,m.O5,r.wV,r.Fj,r.JJ,r.u,m.mk,m.tP,c.yS],pipes:[m.Ov],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}#kt_login_signup_form[_ngcontent-%COMP%]{height:100vh}"]}),o})();function yt(o,i){1&o&&(t.ynx(0),t.TgZ(1,"div",14),t._uU(2," Sorry, looks like there are some errors detected, please try again. "),t.qZA(),t.BQk())}function Zt(o,i){1&o&&(t.ynx(0),t.TgZ(1,"div",15),t._uU(2,"Sent password reset. Please check your email"),t.qZA(),t.BQk())}function Ft(o,i){1&o&&(t.ynx(0),t.TgZ(1,"span",16),t._uU(2," Please wait... "),t._UZ(3,"span",17),t.qZA(),t.BQk())}const x=function(o,i){return{"is-invalid":o,"is-valid":i}},Mt=function(o){return{validation:"required",message:"Email is required",control:o}},qt=function(o){return{validation:"email",message:"Email is invalid",control:o}},It=function(o){return{validation:"minLength",message:"Email should have at least 3 symbols",control:o}},Lt=function(o){return{validation:"maxLength",message:"Email should have maximum 360 symbols",control:o}};function At(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"form",2),t.NdJ("ngSubmit",function(){return t.CHM(n),t.oxw().submit()}),t.TgZ(1,"div",3)(2,"h1",4),t._uU(3,"Forgotten Password ?"),t.qZA(),t.TgZ(4,"div",5),t._uU(5," Enter your email to reset your password. "),t.qZA()(),t.YNc(6,yt,3,0,"ng-container",6),t.YNc(7,Zt,3,0,"ng-container",6),t.TgZ(8,"div",7),t._UZ(9,"input",8),t.GkF(10,9)(11,9)(12,9)(13,9),t.qZA(),t.TgZ(14,"div",10)(15,"button",11)(16,"span",12),t._uU(17,"Submit"),t.qZA(),t.YNc(18,Ft,4,0,"ng-container",6),t.ALo(19,"async"),t.qZA(),t.TgZ(20,"a",13),t._uU(21," Cancel "),t.qZA()()()}if(2&o){const n=t.oxw(),e=t.MAs(3);t.Q6J("formGroup",n.forgotPasswordForm),t.xp6(6),t.Q6J("ngIf",n.errorState===n.errorStates.HasError),t.xp6(1),t.Q6J("ngIf",n.errorState===n.errorStates.NoError),t.xp6(2),t.Q6J("ngClass",t.WLB(15,x,n.forgotPasswordForm.controls.email.invalid,n.forgotPasswordForm.controls.email.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(18,Mt,n.forgotPasswordForm.controls.email)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(20,qt,n.forgotPasswordForm.controls.email)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(22,It,n.forgotPasswordForm.controls.email)),t.xp6(1),t.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",t.VKq(24,Lt,n.forgotPasswordForm.controls.email)),t.xp6(5),t.Q6J("ngIf",t.lcZ(19,13,n.isLoading$))}}function Jt(o,i){1&o&&(t.ynx(0),t.TgZ(1,"div",22)(2,"div",23),t._uU(3,"Sent password reset. Please check your email"),t.qZA()(),t.BQk())}function Qt(o,i){1&o&&(t.ynx(0),t.TgZ(1,"span",16),t._uU(2," Please wait... "),t._UZ(3,"span",17),t.qZA(),t.BQk())}function Nt(o,i){if(1&o){const n=t.EpF();t.TgZ(0,"form",2),t.NdJ("ngSubmit",function(){return t.CHM(n),t.oxw().submitSetPasswordForm()}),t.TgZ(1,"div",3)(2,"h1",18),t._uU(3,"Forgotten Password ?"),t.qZA(),t.TgZ(4,"div",15),t._uU(5," Enter your email to reset your password. "),t.qZA()(),t.YNc(6,Jt,4,0,"ng-container",6),t.TgZ(7,"div",7),t._UZ(8,"input",19),t.qZA(),t.TgZ(9,"div",7),t._UZ(10,"input",20),t.qZA(),t.TgZ(11,"div",7),t._UZ(12,"input",21),t.qZA(),t.TgZ(13,"div",10)(14,"button",11)(15,"span",12),t._uU(16,"Submit"),t.qZA(),t.YNc(17,Qt,4,0,"ng-container",6),t.ALo(18,"async"),t.qZA(),t.TgZ(19,"a",13),t._uU(20," Cancel "),t.qZA()()()}if(2&o){const n=t.oxw();t.Q6J("formGroup",n.SetPasswordForm),t.xp6(6),t.Q6J("ngIf",n.errorState===n.errorStates.NoError),t.xp6(2),t.Q6J("ngClass",t.WLB(6,x,n.forgotPasswordForm.controls.email.invalid,n.forgotPasswordForm.controls.email.valid)),t.xp6(9),t.Q6J("ngIf",t.lcZ(18,4,n.isLoading$))}}function St(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"span",24),t._uU(2),t.qZA(),t.BQk()),2&o){const n=t.oxw().message;t.xp6(2),t.Oqu(n)}}function Ut(o,i){if(1&o&&t.YNc(0,St,3,1,"ng-container",6),2&o){const n=i.control;t.Q6J("ngIf",n.hasError(i.validation)&&(n.dirty||n.touched))}}var g=(()=>{return(o=g||(g={}))[o.NotSubmitted=0]="NotSubmitted",o[o.HasError=1]="HasError",o[o.NoError=2]="NoError",g;var o})();const Bt=[{path:"",component:b,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:$,data:{returnUrl:window.location.pathname}},{path:"registration/:id",component:Ot},{path:"forgot-password",component:(()=>{class o{constructor(n,e,s,a){this.fb=n,this.router=e,this.route=s,this.authService=a,this.errorState=g.NotSubmitted,this.errorStates=g,this.unsubscribe=[],this.isLoading$=this.authService.isLoading$}ngOnInit(){this.initForm(),this.step2=!1}get f(){return this.forgotPasswordForm.controls}get sp(){return this.SetPasswordForm.controls}initForm(){this.forgotPasswordForm=this.fb.group({email:["",r.kI.compose([r.kI.required,r.kI.email,r.kI.minLength(3),r.kI.maxLength(320)])]}),this.SetPasswordForm=this.fb.group({email:["",r.kI.compose([r.kI.required,r.kI.email,r.kI.minLength(3),r.kI.maxLength(320)])],password:["",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(320)])],code:["",r.kI.compose([r.kI.required,r.kI.minLength(3),r.kI.maxLength(320)])]})}submit(){this.errorState=g.NotSubmitted;const n=this.authService.forgotPassword(this.f.email.value).pipe((0,p.P)()).subscribe(e=>{this.errorState=e?g.NoError:g.HasError,this.step2=!0,this.SetPasswordForm.controls.email.setValue(this.f.email.value)});this.unsubscribe.push(n)}submitSetPasswordForm(){this.errorState=g.NotSubmitted;const n=this.authService.setPassword(this.f.email.value,this.sp.code.value,this.sp.password.value).pipe((0,p.P)()).subscribe(e=>{this.errorState=e?g.NoError:g.HasError,this.router.navigate(["/login"])});this.unsubscribe.push(n)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(r.qu),t.Y36(c.F0),t.Y36(c.gz),t.Y36(d.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-forgot-password"]],decls:4,vars:2,consts:[["class","form w-100 fv-plugins-bootstrap5 fv-plugins-framework","novalidate","novalidate","id","kt_login_password_reset_form",3,"formGroup","ngSubmit",4,"ngIf"],["formError",""],["novalidate","novalidate","id","kt_login_password_reset_form",1,"form","w-100","fv-plugins-bootstrap5","fv-plugins-framework",3,"formGroup","ngSubmit"],[1,"text-center","mb-10"],[1,"text-white","mb-3"],[1,"text-white","fw-bold","fs-4"],[4,"ngIf"],[1,"fv-row","mb-10"],["type","email","formControlName","email","placeholder","Email","name","email","autocomplete","off",1,"sakshunsetbg","form-control","form-control-lg",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","flex-wrap","justify-content-center","pb-lg-0"],["type","submit","id","kt_sign_in_submit",1,"btn","btn-lg","btn-primary","fw-bolder","me-4"],[1,"indicator-label"],["routerLink","/auth/login","id","kt_login_password_reset_form_cancel_button",1,"btn","btn-lg","btn-light-primary","fw-bolder"],[1,"text-white","text-center"],[1,"text-center","text-white"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"text-center","text-white","mb-3"],["type","email","formControlName","email","name","email","placeholder","email",1,"sakshunsetbg","form-control","form-control-lg",3,"ngClass"],["type","text","formControlName","code","placeholder","Code which we sent on email","name","code",1,"sakshunsetbg","form-control","form-control-lg"],["type","text","formControlName","password","placeholder","New Password","name","password",1,"sakshunsetbg","form-control","form-control-lg"],[1,"mb-10","bg-light-info","p-8","rounded"],[1,"text-info","text-center","text-white"],["role","alert"]],template:function(n,e){1&n&&(t.YNc(0,At,22,26,"form",0),t.YNc(1,Nt,21,9,"form",0),t.YNc(2,Ut,1,1,"ng-template",null,1,t.W1O)),2&n&&(t.Q6J("ngIf",!e.step2),t.xp6(1),t.Q6J("ngIf",e.step2))},directives:[m.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,m.mk,m.tP,c.yS],pipes:[m.Ov],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),o})()},{path:"logout",component:(()=>{class o{constructor(n){this.authService=n,this.authService.logout()}ngOnInit(){}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(d.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-logout"]],decls:2,vars:0,template:function(n,e){1&n&&(t.TgZ(0,"p"),t._uU(1,"logout works!"),t.qZA())},styles:[""]}),o})()},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login",pathMatch:"full"}]}];let Vt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.Bz.forChild(Bt)],c.Bz]}),o})();var Kt=l(7292);let Rt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[m.ez,Kt.q,Vt,r.u5,r.UX,v.JF]]}),o})()}}]);